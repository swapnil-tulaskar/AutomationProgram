Constructor and Types of Constuctors
==================================================
01. What is a constructor?
	- A constructor is a kind of method whose 
	  name is same as class name and does not have return type.

02. Why constructor?
	- A constructor is used for initializing an object's  
	  non-static fields(NSF) at the time of object creation.

	- In Java, object is create by new keyword
	  and it is initialized by constructor.

	- It means an object's NSFs memory is allocated by
	  new keyword and those NSFs in this object are 
	  initialized (values stored) by constructor.

	- Hence in Java, constructor is not a constructor
	  it is an initializer because it is only initalizing 
	  but not constructing.

03. Syntax to create a constructor?
     Method creation syntax:
	AM ELMs RT MN(PL) throws EL {
		----
		----  Logic
		----	1. blogic ( val, cal and generates result)
		----	2. setting logic
		----	3. getting logic
		----	4. printing logic
		----
	}

     Constructor creation syntax:
	AM  <ClassName>(<Parameters-List>) throws Exceptions-List {
		-------- 
		--------  Initialization logic 
		--------   (val, cals, generate result and finally store in CO NSVs)
		--------
	}

	- AM, PL and throws EL and even logic is optional
	- classname ()  { }  are mandatory

04. When must we create a constructor in a class?
    We must defined constructor in the below 2 situations
	1. If we need to initialize an object's NSVs at the of object creation or
	2. If we need to execute some logic at the time of object creation

05. Types of constructors and their purpose?
	- Java supports three types of constructors
		1. Default constructor
		2. Non-parameterized | No-param | No-arg | Nullary constructor
		3. Parameterized constructor

	- A constructor that is generated by compiler is called 
	  default constructor. When we no need to intialize an object 
	  at the time of object creation or when we no need to execute
	  some logic at time of object creation, we must choose
	  default constructor. It means we must not define any constructor
	  inside a class, then compiler automatically generated DC.

	  If we create objects by using default constructor
	  objects are initialized with default values based on those 
	  NSVs data type

	- A constructor that is defined by developer without parameters 
	  is called non-param constructor. If we need to intialize 
	  this object without taking values from other programmer, 
	  we must defined no-param constructor.

	  If we create objects by using this no-param constructor,
	  objects are initialized with this constructor logic given values. 
	  Those values value can be fixed values or the run time values
	  read from keyboard or from a file or from a DB.

	- A constructor that is defined by developer with parameters 
	  is called parameterized constructor. If we need to intialize 
	  this object by taking values from other programmer, means 
	  object creation programmer, we must defined parameteized constructor. 
	  The number of parameters and type of parameters is depending 
	  on the number fields and those types available in this class.

	    Coding standard: The parameter names must be same as field names
	    for giving information to the constructor caller which parameter
	    is refering to which field. Then inside constructor logic
	    we must use 'this' reference to access fields by differentiating 
	    from parameters.

	  If we create objects by using this parameterized constructor,
	  objects are initialized with the passed values. 

06. Sample program in creating object by using default constructor
	
	//Example.java
	class Example {			
		private int x;
		private int y;	/*this class contains only DC*/
				/*then these two fields contain only dv*/			

		void display() {
			System.out.println("x: "+ x);
			System.out.println("y: "+ y);
		}
	}

	//Test.java
	class Test {
		public static void main(String[] args) {

			Example e1 = new Example(); //default constructor
			Example e2 = new Example(); //default constructor	

			e1.display(); //0  0
			e2.display(); //0  0
		}
	}

07. Sample program in creating no-param and param constructors

	//Example.java
	class Example {
		private int x;
		private int y;
		
		/* no-param constructor */
		Example() {	
			x = 10;		/* intializing this object */
			y = 20;		/* with hard coded values */
		}

		/* parameterized constructor */
		Example(int x, int y) {
			this.x = x;		/* intializing this object */
			this.y = y;		/* by taking values from */
		}				/* other programmer whoever */ 
						/* creating this object */			
		void display() {
			System.out.println("x: "+ x);
			System.out.println("y: "+ y);
		}
	}

	- Develop a Test program to run above constructors logic 
	- Create objects by using both constructors
	- Display both objects values on console
	//Test.java
	class Test {
		public static void main(String[] args) {

			Example e1 = new Example();       // 10 and 20 are stored in e1 object
			Example e2 = new Example(15, 16); // 15 and 16 are stored in e2 object

			e1.display(); //10  20
			e2.display(); //15  16
		}
	}

	- Draw JVM architecture to show the execution flow of constructors and method
		>javac Test.java
			|->Test.class
			|->Example.class

		>java Test
			10 20
			30 40

08. Constructor execution flow and 4 steps involved in an object creation?
	- In an object creation 4 activities are performed
		1) refrenced variable declaration
		2) class instantiation
		3) object initialization	
		4) returning object reference 

	For example:       4
		Example e1 = new Example();
                    1          2     3
								
	Q1) Who will create of a class?				
		1) new 2) constructor
			- new
	Q2) Who will creates initializes object with DVs ?	
		1) new 2) constructor
			- new
	Q3) Who will create initializes object with GVs ?	
		1) new 2) constructor
			- constructor
	Q4) Who will return object reference?			
		1) new 2) constructor
		- new

09. In an object creation what are the responsibilities of new keyword and constructor ?
      refer images

10. Rules in creating constructor
	1) its name must be same as class name
	2) it must not have return type, even void is also not allowed
	3) it must not have all 8 ELMs, but all 4 AMs are allowed
	4) in logic section we can not place return value;

11. Rules in invoking constructor
	5) we must call it by using new keyword
	   we can not call it directly by its name as method,
	   compiler will throw error, because constructor is 
	   meant for initializing object, so it must be called 
	   with new keyword
	
	6) we must pass arguments based on the constructor defined in class

	class Example {
		//Ex(){ }			X CE: invalid method declaration, return type required

		void Example(){ }		// no CE it is consider as a method

		//static Example(){ }		X CE: modifier static is not allowed here
		//final Example(){ }			X CE: modifier final is not allowed here
		//abstract Example(){ }		X CE: modifier abstract is not allowed here
		//native Example(){ }		X CE: modifier native is not allowed here
		//transient Example(){ }		X CE: modifier transient is not allowed here
		//volatile Example(){ }		X CE: modifier transient is not allowed here
		//synchronized Example(){ }	X CE: modifier synchronized is not allowed here
		//strictfp Example(){ }		X CE: modifier strictfp is not allowed here

		private Example(){ }
		Example(int x){ }
		protected Example(int x, int y){ }
		public Example(String s, int[] ia){ }

		Example(float f)  throws IllegalArgumentException {
			throw new IllegalArgumentException("Just for fun throwing exception");
		}
		
		Example(long l){ 
			return;			//no CE, it means we can say implicit return type of constructor is void
		}

		Example(byte b){ 
			//return 5;			X CE: can not return a value from a method whose result type is void
		}					X CE: incompatible types: unexpected retun value
	}

	class Sample {
		Sample(){ }

		public static void main(String[] args){
			//Sample();				X CE: c f s method Sample()
			Sample s1 = new Sample();
			//Sample s2 = new Sample(5);  X CE: arguments and parameters are not matched
		}
	}


	class Sample {

		Sample(int x){ }

		public static void main(String[] args){
			//Sample s1 = new Sample();	X CE: arguments and parameters are not matched
									//here in Sample class default constructor is not available	
									//becuase we defined constructor explicitly, compiler does not 
									//generate default constructor when we define constructor

			Sample s2 = new Sample(5);  
		}
	}

	class Sample {
		Sample(){ 
			Sopln("Constructor");
		}
		
		void Sample(){						//no CE, it is consider as method
			Sopln("method");					//we can create a method with class name as its name
		}									//but it is not recommanded, because it leads to confusion

		public static void main(String[] args){
			Sample s1 = new Sample();			//O/P: Constrcutor

			//Sample();		X CE: non-static method Sample() can not be rerference from static context

			s1.Sample();						//O/P: method
		}
	}

	Q1) Why return type is not allowed to constructor?
		for diffentiating from method

	Q2) How compiler can differentite constructor and method, 
	    when both are created with the same class name?
		- in definition by using return type
		- in calling by using new keyword

	Q3) Why constructor name and class name must same?
		-for giving class information to new keyword for creating object

	Q4) Can we declare constructor as private?
		Yes

	Q5) When we must declare constructor as private?
	    For stopping other programmer creating object of our class outside of our class

	Q6) When we must stop other programmer to create object of our class?
		In the below 3 situation
		When we want to create our class 
			1) as a static class and 
			2) as a factory design pattern class
			3) as a singleton design pattern class

12. Is it mandatory to define a constructor in a class?
	//A.java		//A.class 
	class A {		class A extends java.lang.Object {
					A() {
					  super();
				        }
	}			}        

	- No, it is not mandatory to define a constructor in a every class by developer. 
	- If we donot define constructor, by default compiler implicity defines 
	  one constructor without parameters for calling super class constructor 
	  as part of inheritance.
	- This compiler genereated constructor is called "default constructor".

13. Can we create an object of a class, without defining a constructor in that class?
	//A.java
	class A{ 
	
	}

	//Test.java
	class Test {
		public static void main(String[] args){
			A a1 = new A(); //no CE
				   //no-param constructor call	
				   //here default constructor is executed
				   
			//A a1 = new A(5); //CE: c f s constructor A(int)
				//int-param constructor call	
		}
	}
	- Yes, we can create an object from a class without defining a construcror
	  because compiler provides constructor for us
	- but we must create object without passing no-args
	- if we pass arguments, we will get CE: because parameterized constuctor 
	  is not available by default

13. Can we define a constructor inside a class explicitly, what is the need of it?
	- yes, we can define constructor explicitly

	- We need to define a constructor explicitly, only when we need to 
	  initialize an object during object creation itself or if we want to 
	  execute some logic only once at the time of object creation. 
	  Then we must define constructor by ourself in a class with 
	  that initailization logic or other required logic.

	- We can initialize object 
		1) either with hard coded values or 
		2) with runtime values 

       Rule: If we define a constructor, compiler does not generate default constructor
       Then we must create object by passing arguments, based on the constructor 
       we have defined in this class.

		//Example.java				//Test.java
		class Example {				class Test {
			Example(int i){			  public static void main(String[] args){
				Sopln("PC i: "+ i);		Example e1 = new Example(); //CE
			}					Example e2 = new Example(5);//no CE 
		}					  }
						       }			
     
14. From where we can read rumtime values for initalizalizing object?
	- For intializing object we can read runtime values
		1) either	from keyboard 
		2) or		from file 
		3) or		from data base 
		4) or		from other programmer

	- If we "need" to take values from other programmer,
		we must define constructor with parameters

	- If we "no need" to take values from other programmer,
	  we must define constructor without parameters

		- inside no param constructor we can initialize object 
		  either with hard coded values or by reading vlaues 
		  from keyboard or from file or from data base.

15. Types of constructors
	Java supports 3 types of constructors
	- Compiler generated constructor
		1) Default constructor
			
	- Programmer defined constructor
		2) non-parameterized constructor/no param/no-arg/0-param/nullary constructor
		3) parameterized constructor
			

	For example:   
		class Example {
				- default constructor 		
		}
	//-------------------------------------------------------------
		class Example {
			Example(){
				- no-param constructor 
			}
		}
	//-------------------------------------------------------------
		class Example {
			Example(int a, int b){
				- parameterized constructor 			
			}
		}

16. Explain about default constructor

	- A constructor that is generated by compiler automatically at the time of compilation 
	  in .class file is called default constructor. 

	- This constructor is called as defult constructor, because of below reasons
		1) it is by default added by compiler
		2) its AMs are applied from its enclosing class, that is either "default or public"	
		3) it has only the defult logic "super();" call
		4) the object created from this constructor contains only default values based on their filed's data type
	because above default behaviours of this construcor, it is named as default constructor	

	Q1) If we create an empty class, is it really an empty class?
		-No, it is a default constructor class

	Q2) Are both default constructor and no-param constructor same?
		- No, both are different 
		=====================================================================================
			default constructor		   |		no-param constructor 
		=====================================================================================
		1) added by compiler			   |	1) added by programmer 
		2) AMs are same as class AMs		   |	2) can apply all 4 AMs
		3) Can not have logic except super() call  |	3) can have logic including super();
		=====================================================================================
		Note: The common point for both constructors is they do not have parameters and contans super(); call

	Q3) Does compiler generate default constructor always?
		- No, it is depending on the class
		- if class does not have explicit constructor 
			then only compiler generates default constructor

	Q4) When does compiler generate default constructor in a class?
		- only if there no explicit constructor defined in the class by programmer 

17. What are the possible combinations of constructors we can have in a class?
	1) only DC			
	2) only NPC			
	3) only PC			

	4) DC NPC		
	5) DC PC	
	6) DC NPC PC	

	7) NPC and PC		
	
	8) mul NPC			
	9) mul PC*		
	10) 1 DC (or) (1 NPC and mul PCs)      	

18. How many constructors we can define in a class?
	In a class we can define
		- either one default constructor  
		- or	 one non-param and multiple param constrcutors 
			 with diff parameter types or list or order 


	What is the output of the below program?
	================================
		class Example {
			Example(int p) {
				System.out.println("Hi");
			}
			void display(){
				System.out.println("Hello");
			}
		}
		class Test {
			public static void main(String[] args){		Choose one option:
				Example e1 = new Example();		1) Hi
				e1.display();				2) Hello
			}											3) Hi Hello
		}													4) CE
															5) RE

19. How can we create object of a class?
	- by using new kw and available constructor in the class

20. Is below statement always compiled?
	Example e1 = new Example();  //no

21. Compiler adding changes to our class w.r.t super class, constructor, this kw

	1) if a class is not deriving from any other class
		compiler adds java.lang.Object class as super class to our class

	2) if a class does not contain constructor,
		compiler adds default constructor with super(); call
	
	3) if a class contains explicit constructor,
		if verifies whether this constructor has super(); or this(); call,
			if not there, compiler places super(); call 
			as first statement in the constructor

	4) Compiler places this keyword as first parameter 
		to all constructors and all non-static methods

	5) if we access NSVs and NSMs inside a constructor or inside a NSM,
		compiler adds this. to NSV and NSM call if there no VS

22. Identify the constructor used in the object creation
    find out is there any comile-time error, if no CE, find output

	Case #1: Empty class
		//Example.java(DWC)	//Example.class(CGC)
		class Example {		class Example extends java.lang.Object{ 
						Example(final Example this){	
							super();
						}

		}			}


		class Test {
			public satic void main(String[] args){
				Example e1 = new Example();  
						//Compiled successfully, 
						//object is created by using default constructor

				//Example e2 = new Example(5);  
						//CE: int-param constructor is not there 

			}
		}

	Case #2: class with no-param constrcutor
		//Example.java(DWC)		//Example.class(CGC)
		class Example {			class Example extends java.lang.Object{ 

			Example() {			Example(final Example this) {		
				int a = 10;			super();
								int a = 10;
			}				}

		}				}


		class Test {
			public satic void main(String[] args){
				Example e1 = new Example();  
							//Compiled successfully, 
							//object is created by using no-param constructor
	
				//Example e2 = new Example(5);  
							//CE: int-param constructor is not there 
			}
		}


	Case #3: class with param constrcutor
		//Example.java(DWC)			//Example.class(CGC)
		class Example {				class Example extends java.lang.Object{ 

			Example(int p) {			Example(final Example this, int p) {		
				int q = 20;				super();
										int q = 20;
			}						}

		}						}
		
		class Test {
			public satic void main(String[] args){
				//Example e1 = new Example();  
						//CE: because there is no no-param or default constructor in Example
		
				Example e2 = new Example(5);  
						//no CE, object is created by using int-param constrcutor

			}
		}

	Case #4: class with no-param and param constrcutor
		//Example.java(DWC)			//Example.class(CGC)
		class Example {				class Example extends java.lang.Object{ 

			Example() {				Example(final Example this) {		
				int a = 10;				super();
										int a = 10;	
			}						}

			Example(int p) {			Example(final Example this, int p) {		
				int q = 20;				super();
										int q	 = 20;
			}						}
		}						}
		
		class Test {
			public satic void main(String[] args){
				Example e1 = new Example();  
						//no CE, object is created by using no no-param constructor
		
				Example e2 = new Example(5);  
						//no CE, object is created by using int-param constrcutor

			}
		}


	Case #5: class with NSV, NSM and no-param and param constrcutor
		//Example.java(DWC)			//Example.class(CGC)
		class Example {				class Example extends java.lang.Object{ 
			int x = 10;				int x;	

			Example() {				Example(final Example this) {		
									super();
				Sopln(x);				this.x = 10;
									Sopln(x);	
			}					}

			Example(int p) {			Example(final Example this, int p) {		
									super();
				x = p;					this.x = 10;
				Sopln(x);				this.x = p;	
									Sopln(this.x);		
			}					}
			
			void m1(){ }				void m1(final Example this) { }

			void m2(){				void m2(final Example this) {
				Sopln(x);				Sopln(this.x);
				m1();					this.m1();
			}					}	
		}					}
		
		class Test {
			public satic void main(String[] args){
				Example e1 = new Example();  
						//no CE, object is created by using no-param constructor
				e1.m2();

				Example e2 = new Example(5);  
						//no CE, object is created by using int-param constrcutor
				e2.m2();
			}
		}

23. static constructor

	- A constructor that is declared as static is called static constructor
	- Java does not support static constructor.
	- C#.NET supports static constructor

	- For example:
		class Example {
			static Example(){	//static constructor, CE: modifier static is not allowed here
			
			}
		}

24. copy constructor and cloning
	A constructor whose parameter is same current class type 
	and contains logic to copy argument object data into 
	newly created current object is called copy constructor.

	class Example {
		int x;
		int y;

		Example(){			//NPC
			x = 10;
			y = 20;
		}

		Example(int x, int y){		//PC
			this.x = x;
			this.y = y;
		}

		Example(Example e){		//CC
			this.x = e.x;
			this.y = e.y;
		}

		public String toString(){
			return x + "  " + y;
		}
	}	

	class Test01 {
		public static void main(String[] args) {
			Example e1 = new Example();
			Example e2 = new Example(15, 16);
			
			System.out.println(e1);
			System.out.println(e2);
			System.out.println();

			e2.x = 45;
			e2.y = 55;

			Example e3 = new Example(e2);
			System.out.println(e2);
			System.out.println(e3);
			System.out.println(e2 == e3);
			System.out.println();

			
			Example e4 = e2;
			System.out.println(e2);
			System.out.println(e4);
			System.out.println(e2 == e4);

		}
	}


	class Sample { }

	class Example {
		Sample s;

		Example(Sample s){	//PC not CC
			this.s = s;
		}
	}

	- C++ also supports copy constructor
	- The diff b/w copy constructor from C++ to Java is 
	- in C++ copy constructor is called by implicity with = operator
	- But in Java we must call it explicitly

	For example 
		- In C++:
			Example e1 = new Example();
			Exampe e2 = e1;	//implicity new object is created, 
							//copy constructor is called,
							//data is copied from e1 object to e2 object


		- In Java:
			Example e1 = new Example();
			Exampe e2 = e1;	//here it is assignment, new object is not created 
							//copy constructor is not called,
							//just e1 reference is copied into e2 ref variable
							//both e1 and e2 are pointing to same object


			Example e3 = new Example(e1); //copy constructor is called

	Note: In Java we can also copy object by using clone() method which available in java.lang.Object
		
		Example e1 = new Example();
		Example e2 = e1.clone();

	More details about clone() method we will learn in Java library - Volume #2: Chapter 2

25. Constructor Overloading and Constructor chaining

	Defining multiple constructors with diff paramters type or list or order 
	is called constructor overloading

	For example:	
		class Example {
			Example() { }			//constrctor overloading
			Example(int a) { } 
			Example(String s1) { } 
			Example(String s1, float f1) { } 
		}

26. When we overload constructor, in an object creation which constructoris executed?
    The passed argument matched parameter constructor is executed.
	class Test {
		public static void main(String[] args){

			Example e1 = new Example();			//no args -> no param constructor is executed
			//Example e2 = new Example("a", 4.5);		//CE: no constructor matched with given argument String, double
			Example e3 = new Example("a", 4.5F);		//String, float param constructor is executed

		}
	}

27. When must we overload a constructor?
	1. If we need to develop diff initialization logic or 
	2. If we need to execute same initialization logic by taking 
	   the initialization values in diff types, we must overload constructor

	class Example {				class Example  {
		int x;					int x ;
		String s;

		Example(int x) {			Example(int x) {
			this.x = x;				this.x = x;
		}					}

		Example(String s) {			Example(Integer io) {
			this.s = s;				this.x = io.intValue();
		}					}

		Example(String s, int x){		Example(String s) {
			this.x = x;				this.x = Integer.parseInt(s);
			this.s = s;												}
		}					}
	}					}	

28. If we overload constructor or if we define multiple constructors
    and when we invoke a constructor, are all other constructors executed?
	- No, only the invoked constructor is executed.

29. When we overload a constructor, sometimes same logic is repeated in all constructors
    and becomes code redundency, how can we slove this problem?
	- by using constructor chaining
	- by using non-static block 

    - more details on constructor chaining we will learn in polymorphism